<header>
  <h1>Welcome to Yummly!</h1>
</header>

<div class="container">
  <div>
    <table
      mat-table
      [dataSource]="this.recipes"
      class="box-shadow"
      *ngIf="this.recipes.length > 0 || loadingRecipes; else empty"
    >
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Your recipes</th>
        <td mat-cell *matCellDef="let recipe">
          <a [routerLink]="['/recipes', this.user['uid'], recipe.id]">
            {{ recipe.title }}
          </a>
        </td>
      </ng-container>
      <ng-container matColumnDef="cookingTime">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let recipe">
          <p>{{ recipe.cookingTime }} minutes</p>
        </td>
      </ng-container>
      <ng-container matColumnDef="ingredients">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let recipe">
          <p>{{ recipe.ingredients.length }}</p>
        </td>
      </ng-container>
      <tr
        mat-header-row
        *matHeaderRowDef="['title', 'cookingTime', 'ingredients']"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: ['title', 'cookingTime', 'ingredients']"
      ></tr>
    </table>
  </div>
  <div>
    <table mat-table [dataSource]="ingredients" class="box-shadow">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>New ingredients</th>
        <td mat-cell *matCellDef="let ingredient">{{ ingredient.title }}</td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let ingredient">{{ ingredient.type }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="['title', 'type']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['title', 'type']"></tr>
    </table>
  </div>
</div>

<ng-template #empty>
  <a mat-raised-button color="primary" [routerLink]="['/recipes/new']">
    Create your first recipe
  </a>
</ng-template>
